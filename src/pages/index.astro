---
import Layout from "../layouts/Layout.astro";
import type { Product as Typeproduct } from "../types/product";
import Product from "../components/product.astro";

const res = await fetch("https://fakestoreapi.com/products");
const products = await res.json();
---

<Layout>
  <nav class="nav">
    <header class="header">
      <img src="/public/bigicon.png" alt="E&F" class="logo" />
      <h1 class="title">Electronic & Fast</h1>
    </header>
    <div class="cart">
      <img src="/src/assets/cart.svg" alt="cart" class="icon" />
      (0)
    </div>
  </nav>

  <main class="main">
    {
      products.map((product: Typeproduct) => (
        <a href={`/products/${product.id}`}>
          <Product product={product} />
        </a>
      ))
    }
  </main>
</Layout>

<style>
  .cart {
    display: flex;
    gap: 4px;
    align-items: center;
  }

  .header {
    display: flex;
    gap: 8px;
    align-items: center;
  }

  .main {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    align-items: center;
    padding: 16px;
    gap: 16px;
  }

  a {
    text-decoration: none;
  }
</style>
